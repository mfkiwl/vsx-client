# Word2Vec Analogies Benchmark

In this example, we run the Word2Vec analogies task on Nearist hardware.

## Running the Example
You'll be running the example using a remote connection to a server appliance in our datacenter.

You'll need the following in order to run the exmaple:

* The example dataset files (see below)
* The Nearist classes on your Python Path.
* The API access key generated for your user account.
* An active rental session and the IP address of your reserved Nearist server appliance.

_Make sure to update your copy of the example code with your API key and the provided IP address before running. Additionally, be sure to add /python/src/ to your PYTHONPATH._

### Sample Output

```
Loading dataset into memory...
Connecting to Nearist board...
Loading dataset vectors from appliance harddisk...
   Done. Loading took 41 seconds.
Performing all 19544  queries...
  Query   500 / 19544 (3%) Time Remaining: ~8 min...
  Query  1000 / 19544 (5%) Time Remaining: ~8 min...
  Query  1500 / 19544 (8%) Time Remaining: ~7 min...
  Query  2000 / 19544 (10%) Time Remaining: ~7 min...
  Query  2500 / 19544 (13%) Time Remaining: ~7 min...
  Query  3000 / 19544 (15%) Time Remaining: ~7 min...
  Query  3500 / 19544 (18%) Time Remaining: ~7 min...
  Query  4000 / 19544 (20%) Time Remaining: ~6 min...
  Query  4500 / 19544 (23%) Time Remaining: ~6 min...
  Query  5000 / 19544 (26%) Time Remaining: ~6 min...
  Query  5500 / 19544 (28%) Time Remaining: ~6 min...
  Query  6000 / 19544 (31%) Time Remaining: ~6 min...
  Query  6500 / 19544 (33%) Time Remaining: ~5 min...
  Query  7000 / 19544 (36%) Time Remaining: ~5 min...
  Query  7500 / 19544 (38%) Time Remaining: ~5 min...
  Query  8000 / 19544 (41%) Time Remaining: ~5 min...
  Query  8500 / 19544 (43%) Time Remaining: ~5 min...
  Query  9000 / 19544 (46%) Time Remaining: ~4 min...
  Query  9500 / 19544 (49%) Time Remaining: ~4 min...
  Query 10000 / 19544 (51%) Time Remaining: ~4 min...
  Query 10500 / 19544 (54%) Time Remaining: ~4 min...
  Query 11000 / 19544 (56%) Time Remaining: ~4 min...
  Query 11500 / 19544 (59%) Time Remaining: ~3 min...
  Query 12000 / 19544 (61%) Time Remaining: ~3 min...
  Query 12500 / 19544 (64%) Time Remaining: ~3 min...
  Query 13000 / 19544 (67%) Time Remaining: ~3 min...
  Query 13500 / 19544 (69%) Time Remaining: ~2 min...
  Query 14000 / 19544 (72%) Time Remaining: ~2 min...
  Query 14500 / 19544 (74%) Time Remaining: ~2 min...
  Query 15000 / 19544 (77%) Time Remaining: ~2 min...
  Query 15500 / 19544 (79%) Time Remaining: ~2 min...
  Query 16000 / 19544 (82%) Time Remaining: ~1 min...
  Query 16500 / 19544 (84%) Time Remaining: ~1 min...
  Query 17000 / 19544 (87%) Time Remaining: ~1 min...
  Query 17500 / 19544 (90%) Time Remaining: <1 min...
  Query 18000 / 19544 (92%) Time Remaining: <1 min...
  Query 18500 / 19544 (95%) Time Remaining: <1 min...
  Query 19000 / 19544 (97%) Time Remaining: <1 min...
  Query 19500 / 19544 (100%) Time Remaining: <1 min...
        Observed time: 483165 ms
      Hardware time: 256923 ms for 19544 queries
 Average hw latency: 13 ms
  Internet Overhead: 88%
Final accuracy 72.48% (14166 / 19544)
```

### Required Files
In order to run the example `run_analogies.py`, you will need the dataset file `Google_word2vec_analogies_uint8_8std.h5`, which can be downloaded [here](https://drive.google.com/open?id=0B-fEb_5aEK9ybWpvLXNWcmk0Ymc) (864MB). 

See `/datasets/word2vec_analogies/` for how this dataset was created.

